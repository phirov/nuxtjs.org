<!DOCTYPE html><html n-head=""n-head-ssr><meta n-head="true"charset="utf-8"><meta n-head="true"content="width=device-width,initial-scale=1"name="viewport"><meta n-head="true"content="Using a store to manage the state is important for every big application, that's why nuxt.js implement Vuex in its core."name="description"hid="description"><title n-head="true">Vuex Store - Nuxt.js Guide</title><link href="favicon.ico"rel="icon"n-head="true"type="image/x-icon"><base href="/"><link href="/_nuxt/style.css"rel="stylesheet"><body n-head=""><div id="__nuxt"server-rendered="true"><div data-v-cc2bcbd4><header class="Header"data-v-6fcc5ae1 data-v-cc2bcbd4><div class="container"data-v-6fcc5ae1><a href="/"class="nuxt-link-active Header__Title"data-v-6fcc5ae1><img alt="Logo nuxt"class="Header__Title__Logo Header__Title__Logo--desktop"data-v-6fcc5ae1 src="/_nuxt/img/logo_nav.png?be08efae0d5c46fd682e2a24f18545ae"><img alt="Logo nuxt"class="Header__Title__Logo Header__Title__Logo--mobile"data-v-6fcc5ae1 src="/_nuxt/img/logo_nav_mobile.png?f90e5a3d77508106e815f7179a322c02"><h1 class="Header__Title__Text"data-v-6fcc5ae1>NUXT</h1></a><nav class="Header__Nav Header__Nav--hidden"data-v-6fcc5ae1><div class="Header__Nav__Search Header__Nav__Search--mobile"data-v-6fcc5ae1><div class="Search"data-v-6fcc5ae1 data-v-60d64f08><input class="Search__Input"data-v-60d64f08 id="mobile"name="search"placeholder="Search"><label class="Search__Label"data-v-60d64f08 for="mobile"><div class="icon search"data-v-60d64f08></div></label></div></div><div class="Header__Nav__Lang"data-v-6fcc5ae1><img alt="en"class="Header__Nav__Lang__Img"data-v-6fcc5ae1 src="/flags/en.png"></div><ul class="Header__Nav__List"data-v-6fcc5ae1><li class="Header__Nav__List__Item"data-v-6fcc5ae1><a href="/guide"class="Header__Nav__List__Item__Link nuxt-link-active"data-v-6fcc5ae1>Guide</a><li class="Header__Nav__List__Item"data-v-6fcc5ae1><a href="/api"class="Header__Nav__List__Item__Link"data-v-6fcc5ae1>API</a><li class="Header__Nav__List__Item"data-v-6fcc5ae1><a href="/examples"class="Header__Nav__List__Item__Link"data-v-6fcc5ae1>Examples</a><li class="Header__Nav__List__Item"data-v-6fcc5ae1><div class="Header__Nav__List__Item__Link Dropdown"data-v-6fcc5ae1 data-v-38c38936><div class="Dropdown__Title"data-v-38c38936>Ecosystem</div><ul class="Dropdown__List"data-v-38c38936><li class="Dropdown__List__Item"data-v-38c38936><a href="https://github.com/nuxt"class="Dropdown__List__Item__Link"data-v-38c38936 target="_blank">Github</a><li class="Dropdown__List__Item"data-v-38c38936><a href="https://twitter.com/nuxt_js"class="Dropdown__List__Item__Link"data-v-38c38936 target="_blank">Twitter</a><li class="Dropdown__List__Item"data-v-38c38936><a href="https://medium.com/@nuxt_js"class="Dropdown__List__Item__Link"data-v-38c38936 target="_blank">Blog</a><li class="Dropdown__List__Item"data-v-38c38936><a href="https://gitter.im/nuxt/nuxt.js"class="Dropdown__List__Item__Link"data-v-38c38936 target="_blank">Chat</a><li class="Dropdown__List__Item"data-v-38c38936><a href="https://vuejs.org"class="Dropdown__List__Item__Link"data-v-38c38936 target="_blank">Vue.js</a><li class="Dropdown__List__Item"data-v-38c38936><a href="https://vuejobs.com/?ref=nuxtjs"class="Dropdown__List__Item__Link"data-v-38c38936 target="_blank">Vue Jobs</a></ul></div></ul><div class="Header__Nav__Search Header__Nav__Search--desktop"data-v-6fcc5ae1><div class="Search"data-v-6fcc5ae1 data-v-60d64f08><input class="Search__Input"data-v-60d64f08 id="desktop"name="search"placeholder="Search"><label class="Search__Label"data-v-60d64f08 for="desktop"><div class="icon search"data-v-60d64f08></div></label></div></div></nav><div class="Header__Toggler"data-v-6fcc5ae1><div class="icon menu"data-v-6fcc5ae1></div></div></div></header><div data-v-cc2bcbd4><div data-v-cc2bcbd4><div class="progress"data-v-2aeb4e08 style="width:0;height:2px;background-color:#41B883;opacity:0"></div><div class="category"><nav class="Affix Affix--hidden"data-v-0437d0ac><div class="Affix__Toggler"data-v-0437d0ac><div class="icon more-vertical"data-v-0437d0ac></div></div><h2 class="Affix__Version"data-v-0437d0ac>Version 0.9.5<div class="Affix__Version__Toggler"data-v-0437d0ac><div class="icon close"data-v-0437d0ac></div></div></h2><h3 class="Affix__Title"data-v-0437d0ac>Getting Started</h3><ul class="Affix__List"data-v-0437d0ac><li class="Affix__List__Item"data-v-0437d0ac><a href="/guide"class="Affix__List__Item__Link"data-v-0437d0ac>Introduction</a><!----><li class="Affix__List__Item"data-v-0437d0ac><a href="/guide/installation"class="Affix__List__Item__Link"data-v-0437d0ac>Installation</a><!----><li class="Affix__List__Item"data-v-0437d0ac><a href="/guide/directory-structure"class="Affix__List__Item__Link"data-v-0437d0ac>Directory structure</a><!----><li class="Affix__List__Item"data-v-0437d0ac><a href="/guide/configuration"class="Affix__List__Item__Link"data-v-0437d0ac>Configuration</a><!----><li class="Affix__List__Item"data-v-0437d0ac><a href="/guide/commands"class="Affix__List__Item__Link"data-v-0437d0ac>Commands</a><!----></ul><h3 class="Affix__Title"data-v-0437d0ac>Router</h3><ul class="Affix__List"data-v-0437d0ac><li class="Affix__List__Item"data-v-0437d0ac><a href="/guide/basic-routes"class="Affix__List__Item__Link"data-v-0437d0ac>Basic Routes</a><!----><li class="Affix__List__Item"data-v-0437d0ac><a href="/guide/dynamic-routes"class="Affix__List__Item__Link"data-v-0437d0ac>Dynamic Routes</a><!----><li class="Affix__List__Item"data-v-0437d0ac><a href="/guide/nested-routes"class="Affix__List__Item__Link"data-v-0437d0ac>Nested Routes</a><!----><li class="Affix__List__Item"data-v-0437d0ac><a href="/guide/routes-transitions"class="Affix__List__Item__Link"data-v-0437d0ac>Transitions</a><!----><li class="Affix__List__Item"data-v-0437d0ac><a href="/guide/routes-middleware"class="Affix__List__Item__Link"data-v-0437d0ac>Middleware</a><!----></ul><h3 class="Affix__Title"data-v-0437d0ac>Views</h3><ul class="Affix__List"data-v-0437d0ac><li class="Affix__List__Item"data-v-0437d0ac><a href="/guide/pages"class="Affix__List__Item__Link"data-v-0437d0ac>Pages</a><!----><li class="Affix__List__Item"data-v-0437d0ac><a href="/guide/layouts"class="Affix__List__Item__Link"data-v-0437d0ac>Layouts</a><!----><li class="Affix__List__Item"data-v-0437d0ac><a href="/guide/custom-loading"class="Affix__List__Item__Link"data-v-0437d0ac>Custom Loading</a><!----><li class="Affix__List__Item"data-v-0437d0ac><a href="/guide/html-head"class="Affix__List__Item__Link"data-v-0437d0ac>HTML Head</a><!----></ul><h3 class="Affix__Title"data-v-0437d0ac>Data</h3><ul class="Affix__List"data-v-0437d0ac><li class="Affix__List__Item"data-v-0437d0ac><a href="/guide/async-data"class="Affix__List__Item__Link"data-v-0437d0ac>Async data</a><!----><li class="Affix__List__Item"data-v-0437d0ac><a href="/guide/vuex-store"class="Affix__List__Item__Link nuxt-link-active nuxt-link-active"data-v-0437d0ac>Vuex store</a><ul class="Affix__List__Item__Contents"data-v-0437d0ac><li class="Affix__List__Item__Contents__Item"data-v-0437d0ac><a href="/guide/vuex-store#activate-the-store"class="Affix__List__Item__Contents__Item__Link Affix__List__Item__Contents__Item__Link--active"data-v-0437d0ac>Activate the Store</a><li class="Affix__List__Item__Contents__Item"data-v-0437d0ac><a href="/guide/vuex-store#modules-files"class="Affix__List__Item__Contents__Item__Link"data-v-0437d0ac>Modules Files</a><li class="Affix__List__Item__Contents__Item"data-v-0437d0ac><a href="/guide/vuex-store#the-fetch-method"class="Affix__List__Item__Contents__Item__Link"data-v-0437d0ac>The fetch Method</a><li class="Affix__List__Item__Contents__Item"data-v-0437d0ac><a href="/guide/vuex-store#the-context"class="Affix__List__Item__Contents__Item__Link"data-v-0437d0ac>The Context</a><li class="Affix__List__Item__Contents__Item"data-v-0437d0ac><a href="/guide/vuex-store#the-nuxtserverinit-action"class="Affix__List__Item__Contents__Item__Link"data-v-0437d0ac>The nuxtServerInit Action</a></ul></ul><h3 class="Affix__Title"data-v-0437d0ac>Resources</h3><ul class="Affix__List"data-v-0437d0ac><li class="Affix__List__Item"data-v-0437d0ac><a href="/guide/assets"class="Affix__List__Item__Link"data-v-0437d0ac>Assets</a><!----><li class="Affix__List__Item"data-v-0437d0ac><a href="/guide/static"class="Affix__List__Item__Link"data-v-0437d0ac>Static</a><!----><li class="Affix__List__Item"data-v-0437d0ac><a href="/guide/plugins"class="Affix__List__Item__Link"data-v-0437d0ac>Plugins</a><!----></ul><h3 class="Affix__Title"data-v-0437d0ac>Dev Tools</h3><ul class="Affix__List"data-v-0437d0ac><li class="Affix__List__Item"data-v-0437d0ac><a href="/guide/eslint"class="Affix__List__Item__Link"data-v-0437d0ac>ESLint</a><!----><li class="Affix__List__Item"data-v-0437d0ac><a href="/guide/unit-testing"class="Affix__List__Item__Link"data-v-0437d0ac>Unit Testing</a><!----></ul><h3 class="Affix__Title"data-v-0437d0ac>Miscellaneous</h3><ul class="Affix__List"data-v-0437d0ac><li class="Affix__List__Item"data-v-0437d0ac><a href="/guide/contribution-guide"class="Affix__List__Item__Link"data-v-0437d0ac>Contribution Guide</a><!----><li class="Affix__List__Item"data-v-0437d0ac><a href="/guide/release-notes"class="Affix__List__Item__Link"data-v-0437d0ac>Release Notes</a><!----></ul></nav><div class="category__content"><div class="Content"data-v-3523ed07><h1 data-v-3523ed07>Vuex Store</h1><!----><div data-v-3523ed07><blockquote><p>Using a store to manage the state is important to every big application, that's why nuxt.js implement <a href="">vuex</a><a href="https://github.com/vuejs/vuex">https://github.com/vuejs/vuex</a> in its core.</blockquote><h2 id="activate-the-store">Activate the Store</h2><p>Nuxt.js will look for the <code>store</code> directory, if it exists, it will:<ol><li>Import Vuex<li>Add <code>vuex</code> module in the vendors bundle<li>Add the <code>store</code> option to the root <code>Vue</code> instance.</ol><p>Nuxt.js lets you have 2 styles of store, choose the one you prefer:<ul><li><strong>Normal:</strong> <code>store/index.js</code> returns a store instance<li><strong>Modules:</strong> every <code>.js</code> file inside the <code>store</code> directory is transformed as a <a href="http://vuex.vuejs.org/en/modules.html">namespaced module</a> (<code>index</code> being the root module)</ul><p>To activate the store with the normal style, we create the <code>store/index.js</code> file and export the store instance:<pre><code class="hljs js"><span class="hljs-keyword">import</span> Vue <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>
<span class="hljs-keyword">import</span> Vuex <span class="hljs-keyword">from</span> <span class="hljs-string">'vuex'</span>

Vue.use(Vuex)

<span class="hljs-keyword">const</span> store = <span class="hljs-keyword">new</span> Vuex.Store({
  <span class="hljs-attr">state</span>: {
    <span class="hljs-attr">counter</span>: <span class="hljs-number">0</span>
  },
  <span class="hljs-attr">mutations</span>: {
    increment (state) {
      state.counter++
    }
  }
})

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> store</code></pre><blockquote><p>We don't need to install <code>vuex</code> since it's shipped with nuxt.js</blockquote><p>We can now use <code>this.$store</code> inside our components:<pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>></span>
  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"$store.commit('increment')"</span>></span>{{ $store.state.counter }}<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>></span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>></span></code></pre><h2 id="modules-files">Modules Files</h2><blockquote><p>Nuxt.js lets you have a <code>store</code> directory with every file corresponding to a module.</blockquote><p>If you want this option, export the state, mutations and actions in <code>store/index.js</code> instead of a store instance:<pre><code class="hljs js"><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> state = {
  <span class="hljs-attr">counter</span>: <span class="hljs-number">0</span>
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> mutations = {
  increment (state) {
    state.counter++
  }
}</code></pre><p>Then, you can have a <code>store/todos.js</code> file:<pre><code class="hljs js"><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> state = {
  <span class="hljs-attr">list</span>: []
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> mutations = {
  add (state, text) {
    state.list.push({
      <span class="hljs-attr">text</span>: text,
      <span class="hljs-attr">done</span>: <span class="hljs-literal">false</span>
    })
  },
  toggle (state, todo) {
    todo.done = !todo.done
  }
}</code></pre><p>And in your <code>pages/todos.vue</code>, using the <code>todos</code> module:<pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>></span>
  <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>></span>
    <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">"todo in todos"</span>></span>
      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"checkbox"</span> <span class="hljs-attr">:checked</span>=<span class="hljs-string">"todo.done"</span> @<span class="hljs-attr">change</span>=<span class="hljs-string">"toggle(todo)"</span>></span>
      <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">:class</span>=<span class="hljs-string">"{ done: todo.done }"</span>></span>{{ todo.text }}<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>></span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>></span>
    <span class="hljs-tag">&lt;<span class="hljs-name">li</span>></span><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"What needs to be done?"</span> @<span class="hljs-attr">keyup.enter</span>=<span class="hljs-string">"addTodo"</span>></span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>></span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>></span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>></span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span>></span><span class="javascript">
<span class="hljs-keyword">import</span> { mapMutations } <span class="hljs-keyword">from</span> <span class="hljs-string">'vuex'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-attr">computed</span>: {
    todos () { <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.$store.state.todos.list }
  },
  <span class="hljs-attr">methods</span>: {
    addTodo (e) {
      <span class="hljs-keyword">this</span>.$store.commit(<span class="hljs-string">'todos/add'</span>, e.target.value)
      e.target.value = <span class="hljs-string">''</span>
    },
    ...mapMutations({
      <span class="hljs-attr">toggle</span>: <span class="hljs-string">'todos/toggle'</span>
    })
  }
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>></span>

<span class="hljs-tag">&lt;<span class="hljs-name">style</span>></span><span class="css">
<span class="hljs-selector-class">.done</span> {
  <span class="hljs-attribute">text-decoration</span>: line-through;
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>></span></code></pre><div class="Alert">You can also have modules by exporting a store instance, you will have to add them manually on your store.</div><h2 id="the-fetch-method">The fetch Method</h2><blockquote><p>The fetch method is used to fill the store before rendering the page, it's like the data method except it doesn't set the component data.</blockquote><p>The <code>fetch</code> method, <em>if set</em>, is called every time before loading the component (<strong>only for pages components</strong>). It can be called from the server-side or before navigating to the corresponding route.<p>The <code>fetch</code> method receives <a href="/api/pages-context">the context</a> as the first argument, we can use it to fetch some data and fill the store. To make the fetch method asynchronous, <strong>return a Promise</strong>, nuxt.js will wait for the promise to be resolved before rendering the Component.<p>Example of <code>pages/index.vue</code>:<pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>></span>
  <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>></span>Stars: {{ $store.state.stars }}<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>></span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>></span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span>></span><span class="javascript">
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  fetch ({ store, params }) {
    <span class="hljs-keyword">return</span> axios.get(<span class="hljs-string">'http://my-api/stars'</span>)
    .then(<span class="hljs-function">(<span class="hljs-params">res</span>) =></span> {
      store.commit(<span class="hljs-string">'setStars'</span>, res.data)
    })
  }
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>></span></code></pre><p>You can also use async/await to make your code cleaner:<pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>></span>
  <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>></span>Stars: {{ $store.state.stars }}<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>></span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>></span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span>></span><span class="javascript">
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-keyword">async</span> fetch ({ store, params }) {
    <span class="hljs-keyword">let</span> { data } = <span class="hljs-keyword">await</span> axios.get(<span class="hljs-string">'http://my-api/stars'</span>)
    store.commit(<span class="hljs-string">'setStars'</span>, data)
  }
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>></span></code></pre><h2 id="the-context">The Context</h2><p>To see the list of available keys in <code>context</code>, take a look at the <a href="/api/pages-context">pages context api</a>.<h2 id="the-nuxtserverinit-action">The nuxtServerInit Action</h2><p>If the action <code>nuxtServerInit</code> is defined in the store, nuxt.js will call it with the context (only from the server-side). It's useful when we have some data on the server we want to give directly to the client-side.<p>For example, let's say we have a session store and we can access the connected user trough <code>req.authUser</code>. To give the authenticated user to our store, we update our <code>store/index.js</code> to the following:<pre><code class="hljs js">actions: {
  nuxtServerInit ({ commit }, { req }) {
    <span class="hljs-keyword">if</span> (req.authUser) {
      commit(<span class="hljs-string">'user'</span>, req.authUser)
    }
  }
}</code></pre><p>The context is given to <code>nuxtServerInit</code> as the 2nd argument, it is the same as the <code>data</code> or <code>fetch</code> method except that <code>context.redirect()</code> and <code>context.error()</code> are omitted.</div></div></div><div class="category__footer"><footer class="Footer"data-v-4e99f6ef><div class="container Footer__Author"data-v-4e99f6ef>Made by Chopin Brothers: <a href="https://github.com/Atinux"target="_blank"data-v-4e99f6ef>@Atinux</a> & <a href="https://github.com/alexchopin"target="_blank"data-v-4e99f6ef>@alexchopin</a></div></footer></div></div><!----></div></div></div></div><script defer>window.__NUXT__={data:[null,{attrs:{title:"Vuex Store",description:"Using a store to manage the state is important for every big application, that's why nuxt.js implement Vuex in its core."},body:'<blockquote>\n<p>Using a store to manage the state is important to every big application, that&#39;s why nuxt.js implement <a href="">vuex</a><a href="https://github.com/vuejs/vuex">https://github.com/vuejs/vuex</a> in its core.</p>\n</blockquote>\n<h2 id="activate-the-store">Activate the Store</h2>\n<p>Nuxt.js will look for the <code>store</code> directory, if it exists, it will:</p>\n<ol>\n<li>Import Vuex</li>\n<li>Add <code>vuex</code> module in the vendors bundle</li>\n<li>Add the <code>store</code> option to the root <code>Vue</code> instance.</li>\n</ol>\n<p>Nuxt.js lets you have 2 styles of store, choose the one you prefer:</p>\n<ul>\n<li><strong>Normal:</strong> <code>store/index.js</code> returns a store instance</li>\n<li><strong>Modules:</strong> every <code>.js</code> file inside the <code>store</code> directory is transformed as a <a href="http://vuex.vuejs.org/en/modules.html">namespaced module</a> (<code>index</code> being the root module)</li>\n</ul>\n<p>To activate the store with the normal style, we create the <code>store/index.js</code> file and export the store instance:</p>\n<pre><code class="hljs js"><span class="hljs-keyword">import</span> Vue <span class="hljs-keyword">from</span> <span class="hljs-string">\'vue\'</span>\n<span class="hljs-keyword">import</span> Vuex <span class="hljs-keyword">from</span> <span class="hljs-string">\'vuex\'</span>\n\nVue.use(Vuex)\n\n<span class="hljs-keyword">const</span> store = <span class="hljs-keyword">new</span> Vuex.Store({\n  <span class="hljs-attr">state</span>: {\n    <span class="hljs-attr">counter</span>: <span class="hljs-number">0</span>\n  },\n  <span class="hljs-attr">mutations</span>: {\n    increment (state) {\n      state.counter++\n    }\n  }\n})\n\n<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> store</code></pre><blockquote>\n<p>We don&#39;t need to install <code>vuex</code> since it&#39;s shipped with nuxt.js</p>\n</blockquote>\n<p>We can now use <code>this.$store</code> inside our components:</p>\n<pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>\n  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"$store.commit(\'increment\')"</span>&gt;</span>{{ $store.state.counter }}<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>\n<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></code></pre><h2 id="modules-files">Modules Files</h2>\n<blockquote>\n<p>Nuxt.js lets you have a <code>store</code> directory with every file corresponding to a module.</p>\n</blockquote>\n<p>If you want this option, export the state, mutations and actions in <code>store/index.js</code> instead of a store instance:</p>\n<pre><code class="hljs js"><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> state = {\n  <span class="hljs-attr">counter</span>: <span class="hljs-number">0</span>\n}\n\n<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> mutations = {\n  increment (state) {\n    state.counter++\n  }\n}</code></pre><p>Then, you can have a <code>store/todos.js</code> file:</p>\n<pre><code class="hljs js"><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> state = {\n  <span class="hljs-attr">list</span>: []\n}\n\n<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> mutations = {\n  add (state, text) {\n    state.list.push({\n      <span class="hljs-attr">text</span>: text,\n      <span class="hljs-attr">done</span>: <span class="hljs-literal">false</span>\n    })\n  },\n  toggle (state, todo) {\n    todo.done = !todo.done\n  }\n}</code></pre><p>And in your <code>pages/todos.vue</code>, using the <code>todos</code> module:</p>\n<pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>\n  <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span>\n    <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">"todo in todos"</span>&gt;</span>\n      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"checkbox"</span> <span class="hljs-attr">:checked</span>=<span class="hljs-string">"todo.done"</span> @<span class="hljs-attr">change</span>=<span class="hljs-string">"toggle(todo)"</span>&gt;</span>\n      <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">:class</span>=<span class="hljs-string">"{ done: todo.done }"</span>&gt;</span>{{ todo.text }}<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>\n    <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>\n    <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"What needs to be done?"</span> @<span class="hljs-attr">keyup.enter</span>=<span class="hljs-string">"addTodo"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>\n  <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>\n<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>\n\n<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">\n<span class="hljs-keyword">import</span> { mapMutations } <span class="hljs-keyword">from</span> <span class="hljs-string">\'vuex\'</span>\n\n<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {\n  <span class="hljs-attr">computed</span>: {\n    todos () { <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.$store.state.todos.list }\n  },\n  <span class="hljs-attr">methods</span>: {\n    addTodo (e) {\n      <span class="hljs-keyword">this</span>.$store.commit(<span class="hljs-string">\'todos/add\'</span>, e.target.value)\n      e.target.value = <span class="hljs-string">\'\'</span>\n    },\n    ...mapMutations({\n      <span class="hljs-attr">toggle</span>: <span class="hljs-string">\'todos/toggle\'</span>\n    })\n  }\n}\n</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>\n\n<span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">\n<span class="hljs-selector-class">.done</span> {\n  <span class="hljs-attribute">text-decoration</span>: line-through;\n}\n</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span></code></pre><div class="Alert">You can also have modules by exporting a store instance, you will have to add them manually on your store.</div>\n\n<h2 id="the-fetch-method">The fetch Method</h2>\n<blockquote>\n<p>The fetch method is used to fill the store before rendering the page, it&#39;s like the data method except it doesn&#39;t set the component data.</p>\n</blockquote>\n<p>The <code>fetch</code> method, <em>if set</em>, is called every time before loading the component (<strong>only for pages components</strong>). It can be called from the server-side or before navigating to the corresponding route.</p>\n<p>The <code>fetch</code> method receives <a href="/api/pages-context">the context</a> as the first argument, we can use it to fetch some data and fill the store. To make the fetch method asynchronous, <strong>return a Promise</strong>, nuxt.js will wait for the promise to be resolved before rendering the Component.</p>\n<p>Example of <code>pages/index.vue</code>:</p>\n<pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>\n  <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Stars: {{ $store.state.stars }}<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>\n<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>\n\n<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">\n<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {\n  fetch ({ store, params }) {\n    <span class="hljs-keyword">return</span> axios.get(<span class="hljs-string">\'http://my-api/stars\'</span>)\n    .then(<span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> {\n      store.commit(<span class="hljs-string">\'setStars\'</span>, res.data)\n    })\n  }\n}\n</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></code></pre><p>You can also use async/await to make your code cleaner:</p>\n<pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>\n  <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Stars: {{ $store.state.stars }}<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>\n<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>\n\n<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">\n<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {\n  <span class="hljs-keyword">async</span> fetch ({ store, params }) {\n    <span class="hljs-keyword">let</span> { data } = <span class="hljs-keyword">await</span> axios.get(<span class="hljs-string">\'http://my-api/stars\'</span>)\n    store.commit(<span class="hljs-string">\'setStars\'</span>, data)\n  }\n}\n</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></code></pre><h2 id="the-context">The Context</h2>\n<p>To see the list of available keys in <code>context</code>, take a look at the <a href="/api/pages-context">pages context api</a>.</p>\n<h2 id="the-nuxtserverinit-action">The nuxtServerInit Action</h2>\n<p>If the action <code>nuxtServerInit</code> is defined in the store, nuxt.js will call it with the context (only from the server-side). It&#39;s useful when we have some data on the server we want to give directly to the client-side.</p>\n<p>For example, let&#39;s say we have a session store and we can access the connected user trough <code>req.authUser</code>. To give the authenticated user to our store, we update our <code>store/index.js</code> to the following:</p>\n<pre><code class="hljs js">actions: {\n  nuxtServerInit ({ commit }, { req }) {\n    <span class="hljs-keyword">if</span> (req.authUser) {\n      commit(<span class="hljs-string">\'user\'</span>, req.authUser)\n    }\n  }\n}</code></pre><p>The context is given to <code>nuxtServerInit</code> as the 2nd argument, it is the same as the <code>data</code> or <code>fetch</code> method except that <code>context.redirect()</code> and <code>context.error()</code> are omitted.</p>\n'}],error:null,state:{version:"0.9.5",visibleHeader:!1,visibleAffix:!1,apiURI:"https://docs.api.nuxtjs.org",lang:{iso:"en",links:{api:"API",blog:"Blog",chat:"Chat",download:"Download",examples:"Examples",ecosystem:"Ecosystem",get_started:"get started",github:"Github",guide:"Guide",homepage:"Home page",live_demo:"Live Demo",live_edit:"Live Edit",twitter:"Twitter",vuejs:"Vue.js",vue_jobs:"Vue Jobs"},homepage:{title:"Universal Vue.js Applications"},footer:{authors:"Made by Chopin Brothers"},guide:{release_notes:"Release Notes"},examples:{source_code:"Source Code"}},menu:{api:[{title:"Nuxt Module",links:[{name:"Usage",to:""},{name:"Render",to:"/nuxt-render"},{name:"RenderRoute",to:"/nuxt-render-route"},{name:"RenderAndGetWindow",to:"/nuxt-render-and-get-window"}]},{title:"Configuration",links:[{name:"Build",to:"/configuration-build"},{name:"Cache",to:"/configuration-cache"},{name:"CSS",to:"/configuration-css"},{name:"Env",to:"/configuration-env"},{name:"Generate",to:"/configuration-generate"},{name:"Head",to:"/configuration-head"},{name:"Loading",to:"/configuration-loading"},{name:"Plugins",to:"/configuration-plugins"},{name:"Router",to:"/configuration-router"}]},{title:"Pages",links:[{name:"Context",to:"/pages-context"}]}],examples:[{title:"Essentials",links:[{name:"Hello world",to:""},{name:"SEO HTML Head",to:"/seo-html-head"}]},{title:"Customization",links:[{name:"Cached Components",to:"/cached-components"},{name:"Custom Loading",to:"/custom-loading"},{name:"Custom Routes",to:"/custom-routes"},{name:"Global CSS",to:"/global-css"},{name:"Layouts",to:"/layouts"},{name:"Plugins",to:"/plugins"},{name:"Routes transitions",to:"/routes-transitions"}]},{title:"Advanced",links:[{name:"Async Datas",to:"/async-datas"},{name:"Auth Routes",to:"/auth-routes"},{name:"Vuex Store",to:"/vuex-store"},{name:"Testing",to:"/testing"}]}],guide:[{title:"Getting Started",links:[{name:"Introduction",to:"",contents:[{name:"What is Nuxt.js ?",to:"#what-is-nuxt-js-"},{name:"How it Works",to:"#how-it-works"},{name:"Features",to:"#features"},{name:"Server Rendered",to:"#server-rendered"},{name:"Static Generated",to:"#static-generated"}]},{name:"Installation",to:"/installation",contents:[{name:"Using Nuxt.js starter template",to:"#using-nuxt-js-starter-template"},{name:"Starting from scratch",to:"#starting-from-scratch"}]},{name:"Directory structure",to:"/directory-structure",contents:[{name:"Directories",to:"#directories"},{name:"Aliases",to:"#aliases"}]},{name:"Configuration",to:"/configuration"},{name:"Commands",to:"/commands",contents:[{name:"List of Commands",to:"#list-of-commands"},{name:"Production Deployment",to:"#production-deployment"},{name:"Static Hosting Deployment",to:"#static-hosting-deployment"}]}]},{title:"Router",links:[{name:"Basic Routes",to:"/basic-routes"},{name:"Dynamic Routes",to:"/dynamic-routes",contents:[{name:"Directory Structure",to:"#directory-structure"},{name:"Validate Route Params",to:"#validate-route-params"}]},{name:"Nested Routes",to:"/nested-routes",contents:[{name:"Directory Structure",to:"#directory-structure"},{name:"Dynamic Nested Routes",to:"#dynamic-nested-routes"}]},{name:"Transitions",to:"/routes-transitions",contents:[{name:"Usage",to:"#usage"},{name:"The transition Key",to:"#the-transition-key"},{name:"Transition for a Specific Page",to:"#transition-for-a-specific-page"},{name:"Dynamic Transition",to:"#dynamic-transition"}]},{name:"Middleware",to:"/routes-middleware"}]},{title:"Views",links:[{name:"Pages",to:"/pages",contents:[{name:"Special Keys",to:"#special-keys"},{name:"A Simple Page",to:"#a-simple-page"},{name:"Using Pre-Processors",to:"#using-pre-processors"},{name:"Using JSX",to:"#using-jsx"}]},{name:"Layouts",to:"/layouts",contents:[{name:"Default Layout",to:"#default-layout"},{name:"Error Page",to:"#error-page"},{name:"Custom Layout",to:"#custom-layout"}]},{name:"Custom Loading",to:"/custom-loading",contents:[{name:"Disable the Progress Bar",to:"#disable-the-progress-bar"},{name:"Customize the Progress Bar",to:"#customize-the-progress-bar"},{name:"Use a Custom Loading Component",to:"#use-a-custom-loading-component"}]},{name:"HTML Head",to:"/html-head",contents:[{name:"Title",to:"#title"},{name:"Meta Tags",to:"#meta-tags"},{name:"Using Page Data",to:"#using-page-data"},{name:"Defaults Meta",to:"#defaults-meta"}]}]},{title:"Data",links:[{name:"Async data",to:"/async-data",contents:[{name:"The data Method",to:"#the-data-method"},{name:"The Context",to:"#the-context"},{name:"Handling Errors",to:"#handling-errors"}]},{name:"Vuex store",to:"/vuex-store",contents:[{name:"Activate the Store",to:"#activate-the-store"},{name:"Modules Files",to:"#modules-files"},{name:"The fetch Method",to:"#the-fetch-method"},{name:"The Context",to:"#the-context"},{name:"The nuxtServerInit Action",to:"#the-nuxtserverinit-action"}]}]},{title:"Resources",links:[{name:"Assets",to:"/assets"},{name:"Static",to:"/static"},{name:"Plugins",to:"/plugins",contents:[{name:"Use External Modules",to:"#use-external-modules"},{name:"Use Vue Plugins",to:"#use-vue-plugins"},{name:"Only for Browsers",to:"#only-for-browsers"}]}]},{title:"Dev Tools",links:[{name:"ESLint",to:"/eslint"},{name:"Unit Testing",to:"/unit-testing"}]},{title:"Miscellaneous",links:[{name:"Contribution Guide",to:"/contribution-guide"},{name:"Release Notes",to:"/release-notes"}]}]}},serverRendered:!0}</script><script defer src="/_nuxt/vendor.bundle.js"></script><script defer src="/_nuxt/nuxt.bundle.js"></script>